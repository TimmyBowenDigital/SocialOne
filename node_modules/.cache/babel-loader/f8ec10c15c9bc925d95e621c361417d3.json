{"ast":null,"code":"function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { EuiContextMenuPanel } from './context_menu_panel';\nimport { EuiContextMenuItem } from './context_menu_item';\n\nfunction mapIdsToPanels(panels) {\n  var map = {};\n  panels.forEach(function (panel) {\n    map[panel.id] = panel;\n  });\n  return map;\n}\n\nfunction mapIdsToPreviousPanels(panels) {\n  var idToPreviousPanelIdMap = {};\n  panels.forEach(function (panel) {\n    if (Array.isArray(panel.items)) {\n      panel.items.forEach(function (item) {\n        var isCloseable = item.panel !== undefined;\n\n        if (isCloseable) {\n          idToPreviousPanelIdMap[item.panel] = panel.id;\n        }\n      });\n    }\n  });\n  return idToPreviousPanelIdMap;\n}\n\nfunction mapPanelItemsToPanels(panels) {\n  var idAndItemIndexToPanelIdMap = {};\n  panels.forEach(function (panel) {\n    idAndItemIndexToPanelIdMap[panel.id] = {};\n\n    if (panel.items) {\n      panel.items.forEach(function (item, index) {\n        if (item.panel) {\n          idAndItemIndexToPanelIdMap[panel.id][index] = item.panel;\n        }\n      });\n    }\n  });\n  return idAndItemIndexToPanelIdMap;\n}\n\nexport var EuiContextMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EuiContextMenu, _Component);\n\n  _createClass(EuiContextMenu, null, [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var panels = nextProps.panels;\n\n      if (panels && prevState.prevProps.panels !== panels) {\n        return {\n          prevProps: {\n            panels: panels\n          },\n          idToPanelMap: mapIdsToPanels(panels),\n          idToPreviousPanelIdMap: mapIdsToPreviousPanels(panels),\n          idAndItemIndexToPanelIdMap: mapPanelItemsToPanels(panels)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  function EuiContextMenu(props) {\n    var _this;\n\n    _classCallCheck(this, EuiContextMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EuiContextMenu).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"hasPreviousPanel\", function (panelId) {\n      var previousPanelId = _this.state.idToPreviousPanelIdMap[panelId];\n      return typeof previousPanelId !== 'undefined';\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showNextPanel\", function (itemIndex) {\n      if (itemIndex == null) {\n        return;\n      }\n\n      var nextPanelId = _this.state.idAndItemIndexToPanelIdMap[_this.state.incomingPanelId][itemIndex];\n\n      if (nextPanelId) {\n        if (_this.state.isUsingKeyboardToNavigate) {\n          _this.setState({\n            focusedItemIndex: 0\n          });\n        }\n\n        _this.showPanel(nextPanelId, 'next');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showPreviousPanel\", function () {\n      // If there's a previous panel, then we can close the current panel to go back to it.\n      if (_this.hasPreviousPanel(_this.state.incomingPanelId)) {\n        var previousPanelId = _this.state.idToPreviousPanelIdMap[_this.state.incomingPanelId]; // Set focus on the item which shows the panel we're leaving.\n\n        var previousPanel = _this.state.idToPanelMap[previousPanelId];\n\n        var _focusedItemIndex = previousPanel.items.findIndex(function (item) {\n          return item.panel === _this.state.incomingPanelId;\n        });\n\n        if (_focusedItemIndex !== -1) {\n          _this.setState({\n            focusedItemIndex: _focusedItemIndex\n          });\n        }\n\n        _this.showPanel(previousPanelId, 'previous');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onIncomingPanelHeightChange\", function (height) {\n      _this.setState(function (_ref) {\n        var prevHeight = _ref.height;\n\n        if (height === prevHeight) {\n          return null;\n        }\n\n        return {\n          height: height\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onOutGoingPanelTransitionComplete\", function () {\n      _this.setState({\n        isOutgoingPanelVisible: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onUseKeyboardToNavigate\", function () {\n      if (!_this.state.isUsingKeyboardToNavigate) {\n        _this.setState({\n          isUsingKeyboardToNavigate: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"mapIdsToRenderedItems\", function () {\n      var panels = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var idToRenderedItemsMap = {}; // Pre-rendering the items lets us check reference equality inside of EuiContextMenuPanel.\n\n      panels.forEach(function (panel) {\n        idToRenderedItemsMap[panel.id] = _this.renderItems(panel.items);\n      });\n      return idToRenderedItemsMap;\n    });\n\n    _this.state = {\n      prevProps: {},\n      idToPanelMap: {},\n      idToPreviousPanelIdMap: {},\n      idAndItemIndexToPanelIdMap: {},\n      idToRenderedItemsMap: _this.mapIdsToRenderedItems(_this.props.panels),\n      height: undefined,\n      outgoingPanelId: undefined,\n      incomingPanelId: props.initialPanelId,\n      transitionDirection: undefined,\n      isOutgoingPanelVisible: false,\n      focusedItemIndex: undefined,\n      isUsingKeyboardToNavigate: false\n    };\n    return _this;\n  }\n\n  _createClass(EuiContextMenu, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.panels !== this.props.panels) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          idToRenderedItemsMap: this.mapIdsToRenderedItems(this.props.panels)\n        });\n      }\n    }\n  }, {\n    key: \"showPanel\",\n    value: function showPanel(panelId, direction) {\n      this.setState({\n        outgoingPanelId: this.state.incomingPanelId,\n        incomingPanelId: panelId,\n        transitionDirection: direction,\n        isOutgoingPanelVisible: true\n      });\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this2 = this;\n\n      var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      return items.map(function (item, index) {\n        var panel = item.panel,\n            name = item.name,\n            icon = item.icon,\n            onClick = item.onClick,\n            toolTipTitle = item.toolTipTitle,\n            toolTipContent = item.toolTipContent,\n            rest = _objectWithoutProperties(item, [\"panel\", \"name\", \"icon\", \"onClick\", \"toolTipTitle\", \"toolTipContent\"]);\n\n        var onClickHandler = panel ? function (event) {\n          if (onClick && event) {\n            event.persist();\n          } // This component is commonly wrapped in a EuiOutsideClickDetector, which means we'll\n          // need to wait for that logic to complete before re-rendering the DOM via showPanel.\n\n\n          window.requestAnimationFrame(function () {\n            if (onClick) {\n              onClick(event);\n            }\n\n            _this2.showNextPanel(index);\n          });\n        } : onClick;\n        return React.createElement(EuiContextMenuItem, _extends({\n          key: name,\n          icon: icon,\n          onClick: onClickHandler,\n          hasPanel: Boolean(panel),\n          toolTipTitle: toolTipTitle,\n          toolTipContent: toolTipContent\n        }, rest), name);\n      });\n    }\n  }, {\n    key: \"renderPanel\",\n    value: function renderPanel(panelId, transitionType) {\n      var _this3 = this;\n\n      var panel = this.state.idToPanelMap[panelId];\n\n      if (!panel) {\n        return;\n      } // As above, we need to wait for EuiOutsideClickDetector to complete its logic before\n      // re-rendering via showPanel.\n\n\n      var onClose;\n\n      if (this.hasPreviousPanel(panelId)) {\n        onClose = function onClose() {\n          return window.requestAnimationFrame(_this3.showPreviousPanel);\n        };\n      }\n\n      return React.createElement(EuiContextMenuPanel, {\n        key: panelId,\n        className: \"euiContextMenu__panel\",\n        onHeightChange: transitionType === 'in' ? this.onIncomingPanelHeightChange : undefined,\n        onTransitionComplete: transitionType === 'out' ? this.onOutGoingPanelTransitionComplete : undefined,\n        title: panel.title,\n        onClose: onClose,\n        transitionType: this.state.isOutgoingPanelVisible ? transitionType : undefined,\n        transitionDirection: this.state.isOutgoingPanelVisible ? this.state.transitionDirection : undefined,\n        hasFocus: transitionType === 'in',\n        items: this.state.idToRenderedItemsMap[panelId],\n        initialFocusedItemIndex: this.state.isUsingKeyboardToNavigate ? this.state.focusedItemIndex : undefined,\n        onUseKeyboardToNavigate: this.onUseKeyboardToNavigate,\n        showNextPanel: this.showNextPanel,\n        showPreviousPanel: this.showPreviousPanel\n      }, panel.content);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          panels = _this$props.panels,\n          className = _this$props.className,\n          initialPanelId = _this$props.initialPanelId,\n          rest = _objectWithoutProperties(_this$props, [\"panels\", \"className\", \"initialPanelId\"]);\n\n      var incomingPanel = this.renderPanel(this.state.incomingPanelId, 'in');\n      var outgoingPanel;\n\n      if (this.state.isOutgoingPanelVisible) {\n        outgoingPanel = this.renderPanel(this.state.outgoingPanelId, 'out');\n      }\n\n      var width = this.state.idToPanelMap[this.state.incomingPanelId] && this.state.idToPanelMap[this.state.incomingPanelId].width ? this.state.idToPanelMap[this.state.incomingPanelId].width : undefined;\n      var classes = classNames('euiContextMenu', className);\n      return React.createElement(\"div\", _extends({\n        className: classes,\n        style: {\n          height: this.state.height,\n          width: width\n        }\n      }, rest), outgoingPanel, incomingPanel);\n    }\n  }]);\n\n  return EuiContextMenu;\n}(Component);\n\n_defineProperty(EuiContextMenu, \"defaultProps\", {\n  panels: []\n});\n\nEuiContextMenu.propTypes = {\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n  panels: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired]).isRequired,\n    title: PropTypes.string,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      panel: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired])\n    }).isRequired),\n    content: PropTypes.node,\n    width: PropTypes.number\n  }).isRequired),\n  initialPanelId: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired])\n};\nEuiContextMenu.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"hasPreviousPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panelId\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"showPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panelId\",\n      \"type\": null\n    }, {\n      \"name\": \"direction\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"showNextPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"itemIndex\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"showPreviousPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onIncomingPanelHeightChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"height\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOutGoingPanelTransitionComplete\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onUseKeyboardToNavigate\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"mapIdsToRenderedItems\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panels\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderItems\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"items\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panelId\",\n      \"type\": null\n    }, {\n      \"name\": \"transitionType\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiContextMenu\",\n  \"props\": {\n    \"panels\": {\n      \"defaultValue\": {\n        \"value\": \"[]\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"shape\",\n          \"value\": {\n            \"id\": {\n              \"name\": \"union\",\n              \"value\": [{\n                \"name\": \"string\"\n              }, {\n                \"name\": \"number\"\n              }],\n              \"required\": true\n            },\n            \"title\": {\n              \"name\": \"string\",\n              \"required\": false\n            },\n            \"items\": {\n              \"name\": \"arrayOf\",\n              \"value\": {\n                \"name\": \"shape\",\n                \"value\": {\n                  \"name\": {\n                    \"name\": \"string\",\n                    \"required\": true\n                  },\n                  \"panel\": {\n                    \"name\": \"union\",\n                    \"value\": [{\n                      \"name\": \"string\"\n                    }, {\n                      \"name\": \"number\"\n                    }],\n                    \"required\": false\n                  }\n                }\n              },\n              \"required\": false\n            },\n            \"content\": {\n              \"name\": \"node\",\n              \"required\": false\n            },\n            \"width\": {\n              \"name\": \"number\",\n              \"required\": false\n            }\n          }\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"aria-label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"data-test-subj\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"initialPanelId\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"number\"\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};","map":{"version":3,"sources":["/Users/timothybowen/Documents/Development/social-one/node_modules/@elastic/eui/es/components/context_menu/context_menu.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","ReferenceError","_defineProperty","React","Component","PropTypes","classNames","EuiContextMenuPanel","EuiContextMenuItem","mapIdsToPanels","panels","map","forEach","panel","id","mapIdsToPreviousPanels","idToPreviousPanelIdMap","Array","isArray","items","item","isCloseable","undefined","mapPanelItemsToPanels","idAndItemIndexToPanelIdMap","index","EuiContextMenu","_Component","getDerivedStateFromProps","nextProps","prevState","prevProps","idToPanelMap","_this","panelId","previousPanelId","state","itemIndex","nextPanelId","incomingPanelId","isUsingKeyboardToNavigate","setState","focusedItemIndex","showPanel","hasPreviousPanel","previousPanel","_focusedItemIndex","findIndex","height","_ref","prevHeight","isOutgoingPanelVisible","idToRenderedItemsMap","renderItems","mapIdsToRenderedItems","outgoingPanelId","initialPanelId","transitionDirection","componentDidUpdate","direction","_this2","name","icon","onClick","toolTipTitle","toolTipContent","rest","onClickHandler","event","persist","window","requestAnimationFrame","showNextPanel","createElement","hasPanel","Boolean","renderPanel","transitionType","_this3","onClose","showPreviousPanel","className","onHeightChange","onIncomingPanelHeightChange","onTransitionComplete","onOutGoingPanelTransitionComplete","title","hasFocus","initialFocusedItemIndex","onUseKeyboardToNavigate","content","render","_this$props","incomingPanel","outgoingPanel","width","classes","style","propTypes","string","arrayOf","shape","oneOfType","isRequired","number","node","__docgenInfo"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { EuiContextMenuPanel } from './context_menu_panel';\nimport { EuiContextMenuItem } from './context_menu_item';\n\nfunction mapIdsToPanels(panels) {\n  var map = {};\n  panels.forEach(function (panel) {\n    map[panel.id] = panel;\n  });\n  return map;\n}\n\nfunction mapIdsToPreviousPanels(panels) {\n  var idToPreviousPanelIdMap = {};\n  panels.forEach(function (panel) {\n    if (Array.isArray(panel.items)) {\n      panel.items.forEach(function (item) {\n        var isCloseable = item.panel !== undefined;\n\n        if (isCloseable) {\n          idToPreviousPanelIdMap[item.panel] = panel.id;\n        }\n      });\n    }\n  });\n  return idToPreviousPanelIdMap;\n}\n\nfunction mapPanelItemsToPanels(panels) {\n  var idAndItemIndexToPanelIdMap = {};\n  panels.forEach(function (panel) {\n    idAndItemIndexToPanelIdMap[panel.id] = {};\n\n    if (panel.items) {\n      panel.items.forEach(function (item, index) {\n        if (item.panel) {\n          idAndItemIndexToPanelIdMap[panel.id][index] = item.panel;\n        }\n      });\n    }\n  });\n  return idAndItemIndexToPanelIdMap;\n}\n\nexport var EuiContextMenu =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EuiContextMenu, _Component);\n\n  _createClass(EuiContextMenu, null, [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var panels = nextProps.panels;\n\n      if (panels && prevState.prevProps.panels !== panels) {\n        return {\n          prevProps: {\n            panels: panels\n          },\n          idToPanelMap: mapIdsToPanels(panels),\n          idToPreviousPanelIdMap: mapIdsToPreviousPanels(panels),\n          idAndItemIndexToPanelIdMap: mapPanelItemsToPanels(panels)\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  function EuiContextMenu(props) {\n    var _this;\n\n    _classCallCheck(this, EuiContextMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EuiContextMenu).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"hasPreviousPanel\", function (panelId) {\n      var previousPanelId = _this.state.idToPreviousPanelIdMap[panelId];\n      return typeof previousPanelId !== 'undefined';\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showNextPanel\", function (itemIndex) {\n      if (itemIndex == null) {\n        return;\n      }\n\n      var nextPanelId = _this.state.idAndItemIndexToPanelIdMap[_this.state.incomingPanelId][itemIndex];\n\n      if (nextPanelId) {\n        if (_this.state.isUsingKeyboardToNavigate) {\n          _this.setState({\n            focusedItemIndex: 0\n          });\n        }\n\n        _this.showPanel(nextPanelId, 'next');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showPreviousPanel\", function () {\n      // If there's a previous panel, then we can close the current panel to go back to it.\n      if (_this.hasPreviousPanel(_this.state.incomingPanelId)) {\n        var previousPanelId = _this.state.idToPreviousPanelIdMap[_this.state.incomingPanelId]; // Set focus on the item which shows the panel we're leaving.\n\n        var previousPanel = _this.state.idToPanelMap[previousPanelId];\n\n        var _focusedItemIndex = previousPanel.items.findIndex(function (item) {\n          return item.panel === _this.state.incomingPanelId;\n        });\n\n        if (_focusedItemIndex !== -1) {\n          _this.setState({\n            focusedItemIndex: _focusedItemIndex\n          });\n        }\n\n        _this.showPanel(previousPanelId, 'previous');\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onIncomingPanelHeightChange\", function (height) {\n      _this.setState(function (_ref) {\n        var prevHeight = _ref.height;\n\n        if (height === prevHeight) {\n          return null;\n        }\n\n        return {\n          height: height\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onOutGoingPanelTransitionComplete\", function () {\n      _this.setState({\n        isOutgoingPanelVisible: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onUseKeyboardToNavigate\", function () {\n      if (!_this.state.isUsingKeyboardToNavigate) {\n        _this.setState({\n          isUsingKeyboardToNavigate: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"mapIdsToRenderedItems\", function () {\n      var panels = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var idToRenderedItemsMap = {}; // Pre-rendering the items lets us check reference equality inside of EuiContextMenuPanel.\n\n      panels.forEach(function (panel) {\n        idToRenderedItemsMap[panel.id] = _this.renderItems(panel.items);\n      });\n      return idToRenderedItemsMap;\n    });\n\n    _this.state = {\n      prevProps: {},\n      idToPanelMap: {},\n      idToPreviousPanelIdMap: {},\n      idAndItemIndexToPanelIdMap: {},\n      idToRenderedItemsMap: _this.mapIdsToRenderedItems(_this.props.panels),\n      height: undefined,\n      outgoingPanelId: undefined,\n      incomingPanelId: props.initialPanelId,\n      transitionDirection: undefined,\n      isOutgoingPanelVisible: false,\n      focusedItemIndex: undefined,\n      isUsingKeyboardToNavigate: false\n    };\n    return _this;\n  }\n\n  _createClass(EuiContextMenu, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.panels !== this.props.panels) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          idToRenderedItemsMap: this.mapIdsToRenderedItems(this.props.panels)\n        });\n      }\n    }\n  }, {\n    key: \"showPanel\",\n    value: function showPanel(panelId, direction) {\n      this.setState({\n        outgoingPanelId: this.state.incomingPanelId,\n        incomingPanelId: panelId,\n        transitionDirection: direction,\n        isOutgoingPanelVisible: true\n      });\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems() {\n      var _this2 = this;\n\n      var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      return items.map(function (item, index) {\n        var panel = item.panel,\n            name = item.name,\n            icon = item.icon,\n            onClick = item.onClick,\n            toolTipTitle = item.toolTipTitle,\n            toolTipContent = item.toolTipContent,\n            rest = _objectWithoutProperties(item, [\"panel\", \"name\", \"icon\", \"onClick\", \"toolTipTitle\", \"toolTipContent\"]);\n\n        var onClickHandler = panel ? function (event) {\n          if (onClick && event) {\n            event.persist();\n          } // This component is commonly wrapped in a EuiOutsideClickDetector, which means we'll\n          // need to wait for that logic to complete before re-rendering the DOM via showPanel.\n\n\n          window.requestAnimationFrame(function () {\n            if (onClick) {\n              onClick(event);\n            }\n\n            _this2.showNextPanel(index);\n          });\n        } : onClick;\n        return React.createElement(EuiContextMenuItem, _extends({\n          key: name,\n          icon: icon,\n          onClick: onClickHandler,\n          hasPanel: Boolean(panel),\n          toolTipTitle: toolTipTitle,\n          toolTipContent: toolTipContent\n        }, rest), name);\n      });\n    }\n  }, {\n    key: \"renderPanel\",\n    value: function renderPanel(panelId, transitionType) {\n      var _this3 = this;\n\n      var panel = this.state.idToPanelMap[panelId];\n\n      if (!panel) {\n        return;\n      } // As above, we need to wait for EuiOutsideClickDetector to complete its logic before\n      // re-rendering via showPanel.\n\n\n      var onClose;\n\n      if (this.hasPreviousPanel(panelId)) {\n        onClose = function onClose() {\n          return window.requestAnimationFrame(_this3.showPreviousPanel);\n        };\n      }\n\n      return React.createElement(EuiContextMenuPanel, {\n        key: panelId,\n        className: \"euiContextMenu__panel\",\n        onHeightChange: transitionType === 'in' ? this.onIncomingPanelHeightChange : undefined,\n        onTransitionComplete: transitionType === 'out' ? this.onOutGoingPanelTransitionComplete : undefined,\n        title: panel.title,\n        onClose: onClose,\n        transitionType: this.state.isOutgoingPanelVisible ? transitionType : undefined,\n        transitionDirection: this.state.isOutgoingPanelVisible ? this.state.transitionDirection : undefined,\n        hasFocus: transitionType === 'in',\n        items: this.state.idToRenderedItemsMap[panelId],\n        initialFocusedItemIndex: this.state.isUsingKeyboardToNavigate ? this.state.focusedItemIndex : undefined,\n        onUseKeyboardToNavigate: this.onUseKeyboardToNavigate,\n        showNextPanel: this.showNextPanel,\n        showPreviousPanel: this.showPreviousPanel\n      }, panel.content);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          panels = _this$props.panels,\n          className = _this$props.className,\n          initialPanelId = _this$props.initialPanelId,\n          rest = _objectWithoutProperties(_this$props, [\"panels\", \"className\", \"initialPanelId\"]);\n\n      var incomingPanel = this.renderPanel(this.state.incomingPanelId, 'in');\n      var outgoingPanel;\n\n      if (this.state.isOutgoingPanelVisible) {\n        outgoingPanel = this.renderPanel(this.state.outgoingPanelId, 'out');\n      }\n\n      var width = this.state.idToPanelMap[this.state.incomingPanelId] && this.state.idToPanelMap[this.state.incomingPanelId].width ? this.state.idToPanelMap[this.state.incomingPanelId].width : undefined;\n      var classes = classNames('euiContextMenu', className);\n      return React.createElement(\"div\", _extends({\n        className: classes,\n        style: {\n          height: this.state.height,\n          width: width\n        }\n      }, rest), outgoingPanel, incomingPanel);\n    }\n  }]);\n\n  return EuiContextMenu;\n}(Component);\n\n_defineProperty(EuiContextMenu, \"defaultProps\", {\n  panels: []\n});\n\nEuiContextMenu.propTypes = {\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n  panels: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired]).isRequired,\n    title: PropTypes.string,\n    items: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      panel: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired])\n    }).isRequired),\n    content: PropTypes.node,\n    width: PropTypes.number\n  }).isRequired),\n  initialPanelId: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.number.isRequired])\n};\nEuiContextMenu.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [{\n    \"name\": \"hasPreviousPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panelId\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"showPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panelId\",\n      \"type\": null\n    }, {\n      \"name\": \"direction\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"showNextPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"itemIndex\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"showPreviousPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onIncomingPanelHeightChange\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"height\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"onOutGoingPanelTransitionComplete\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"onUseKeyboardToNavigate\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [],\n    \"returns\": null\n  }, {\n    \"name\": \"mapIdsToRenderedItems\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panels\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderItems\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"items\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }, {\n    \"name\": \"renderPanel\",\n    \"docblock\": null,\n    \"modifiers\": [],\n    \"params\": [{\n      \"name\": \"panelId\",\n      \"type\": null\n    }, {\n      \"name\": \"transitionType\",\n      \"type\": null\n    }],\n    \"returns\": null\n  }],\n  \"displayName\": \"EuiContextMenu\",\n  \"props\": {\n    \"panels\": {\n      \"defaultValue\": {\n        \"value\": \"[]\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"shape\",\n          \"value\": {\n            \"id\": {\n              \"name\": \"union\",\n              \"value\": [{\n                \"name\": \"string\"\n              }, {\n                \"name\": \"number\"\n              }],\n              \"required\": true\n            },\n            \"title\": {\n              \"name\": \"string\",\n              \"required\": false\n            },\n            \"items\": {\n              \"name\": \"arrayOf\",\n              \"value\": {\n                \"name\": \"shape\",\n                \"value\": {\n                  \"name\": {\n                    \"name\": \"string\",\n                    \"required\": true\n                  },\n                  \"panel\": {\n                    \"name\": \"union\",\n                    \"value\": [{\n                      \"name\": \"string\"\n                    }, {\n                      \"name\": \"number\"\n                    }],\n                    \"required\": false\n                  }\n                }\n              },\n              \"required\": false\n            },\n            \"content\": {\n              \"name\": \"node\",\n              \"required\": false\n            },\n            \"width\": {\n              \"name\": \"number\",\n              \"required\": false\n            }\n          }\n        }\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"aria-label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"data-test-subj\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"initialPanelId\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"number\"\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}
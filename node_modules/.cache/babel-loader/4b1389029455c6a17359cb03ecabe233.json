{"ast":null,"code":"function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport PropTypes from \"prop-types\";\nimport React, { cloneElement, useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiColorPickerSwatch } from './color_picker_swatch';\nimport { EuiFocusTrap } from '../focus_trap';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex'; // @ts-ignore\n\nimport { EuiFieldText } from '../form/field_text';\nimport { EuiFormControlLayout } from '../form/form_control_layout';\nimport { EuiI18n } from '../i18n';\nimport { EuiPopover } from '../popover';\nimport { VISUALIZATION_COLORS, keyCodes, hexToHsv, hsvToHex, isValidHex } from '../../services';\nimport { EuiHue } from './hue';\nimport { EuiSaturation } from './saturation';\n\nfunction isKeyboardEvent(event) {\n  return _typeof(event) === 'object' && 'keyCode' in event;\n}\n\nexport var EuiColorPicker = function EuiColorPicker(_ref) {\n  var button = _ref.button,\n      className = _ref.className,\n      color = _ref.color,\n      _ref$compressed = _ref.compressed,\n      compressed = _ref$compressed === void 0 ? false : _ref$compressed,\n      disabled = _ref.disabled,\n      _ref$display = _ref.display,\n      display = _ref$display === void 0 ? 'default' : _ref$display,\n      _ref$fullWidth = _ref.fullWidth,\n      fullWidth = _ref$fullWidth === void 0 ? false : _ref$fullWidth,\n      id = _ref.id,\n      isInvalid = _ref.isInvalid,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onFocus = _ref.onFocus,\n      _ref$readOnly = _ref.readOnly,\n      readOnly = _ref$readOnly === void 0 ? false : _ref$readOnly,\n      _ref$swatches = _ref.swatches,\n      swatches = _ref$swatches === void 0 ? VISUALIZATION_COLORS : _ref$swatches,\n      popoverZIndex = _ref.popoverZIndex;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isColorSelectorShown = _useState2[0],\n      setIsColorSelectorShown = _useState2[1];\n\n  var _useState3 = useState(color ? hexToHsv(color) : hexToHsv('')),\n      _useState4 = _slicedToArray(_useState3, 2),\n      colorAsHsv = _useState4[0],\n      setColorAsHsv = _useState4[1];\n\n  var _useState5 = useState(color),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lastHex = _useState6[0],\n      setLastHex = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      inputRef = _useState8[0],\n      setInputRef = _useState8[1]; // Ideally this is uses `useRef`, but `EuiFieldText` isn't ready for that\n\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      popoverShouldOwnFocus = _useState10[0],\n      setPopoverShouldOwnFocus = _useState10[1];\n\n  var satruationRef = useRef(null);\n  var swatchRef = useRef(null);\n  useEffect(function () {\n    // Mimics `componentDidMount` and `componentDidUpdate`\n    if (lastHex !== color) {\n      // Only react to outside changes\n      var newColorAsHsv = color ? hexToHsv(color) : hexToHsv('');\n      setColorAsHsv(newColorAsHsv);\n    }\n  }, [color, lastHex]);\n  var classes = classNames('euiColorPicker', className);\n  var panelClasses = classNames('euiColorPicker__popoverPanel', {\n    'euiColorPicker__popoverPanel--pickerOnly': mode === 'picker',\n    'euiColorPicker__popoverPanel--customButton': button\n  });\n  var swatchClass = 'euiColorPicker__swatchSelect';\n  var testSubjAnchor = 'colorPickerAnchor';\n  var testSubjPopover = 'colorPickerPopover';\n\n  var handleOnChange = function handleOnChange(hex) {\n    setLastHex(hex);\n    onChange(hex);\n  };\n\n  var closeColorSelector = function closeColorSelector() {\n    var shouldDelay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (onBlur) {\n      onBlur();\n    }\n\n    if (shouldDelay) {\n      setTimeout(function () {\n        return setIsColorSelectorShown(false);\n      });\n    } else {\n      setIsColorSelectorShown(false);\n    }\n  };\n\n  var showColorSelector = function showColorSelector() {\n    var shouldFocusInside = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (isColorSelectorShown || readOnly) return;\n\n    if (onFocus) {\n      onFocus();\n    }\n\n    setPopoverShouldOwnFocus(shouldFocusInside);\n    setIsColorSelectorShown(true);\n  };\n\n  var handleToggle = function handleToggle() {\n    if (isColorSelectorShown) {\n      closeColorSelector();\n    } else {\n      showColorSelector(true);\n    }\n  };\n\n  var handleFinalSelection = function handleFinalSelection() {\n    // When the trigger is an input, focus the input so you can adjust\n    if (inputRef) {\n      inputRef.focus();\n    }\n\n    closeColorSelector(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(e) {\n    if (e.keyCode === keyCodes.ENTER) {\n      if (isColorSelectorShown) {\n        handleFinalSelection();\n      } else {\n        showColorSelector();\n      }\n    }\n  };\n\n  var handleInputActivity = function handleInputActivity(e) {\n    if (isKeyboardEvent(e)) {\n      if (e.keyCode === keyCodes.ENTER) {\n        e.preventDefault();\n        handleToggle();\n      }\n    } else {\n      showColorSelector();\n    }\n  };\n\n  var handleToggleOnKeyDown = function handleToggleOnKeyDown(e) {\n    if (e.keyCode === keyCodes.DOWN) {\n      e.preventDefault();\n\n      if (isColorSelectorShown) {\n        var nextFocusEl = mode !== 'swatch' ? satruationRef : swatchRef;\n\n        if (nextFocusEl.current) {\n          nextFocusEl.current.focus();\n        }\n      } else {\n        showColorSelector(true);\n      }\n    }\n  };\n\n  var handleColorInput = function handleColorInput(e) {\n    handleOnChange(e.target.value);\n\n    if (isValidHex(e.target.value)) {\n      setColorAsHsv(hexToHsv(e.target.value));\n    }\n  };\n\n  var handleColorSelection = function handleColorSelection(color) {\n    var h = colorAsHsv.h;\n    var hue = h ? h : 1;\n\n    var newHsv = _objectSpread({}, color, {\n      h: hue\n    });\n\n    handleOnChange(hsvToHex(newHsv));\n    setColorAsHsv(newHsv);\n  };\n\n  var handleHueSelection = function handleHueSelection(hue) {\n    var s = colorAsHsv.s,\n        v = colorAsHsv.v;\n    var satVal = s && v ? {\n      s: s,\n      v: v\n    } : {\n      s: 1,\n      v: 1\n    };\n\n    var newHsv = _objectSpread({}, satVal, {\n      h: hue\n    });\n\n    handleOnChange(hsvToHex(newHsv));\n    setColorAsHsv(newHsv);\n  };\n\n  var handleSwatchSelection = function handleSwatchSelection(color) {\n    handleOnChange(color);\n    setColorAsHsv(hexToHsv(color));\n    handleFinalSelection();\n  };\n\n  var composite = React.createElement(React.Fragment, null, mode !== 'swatch' && React.createElement(\"div\", {\n    onKeyDown: handleOnKeyDown\n  }, React.createElement(EuiSaturation, {\n    id: id,\n    color: _typeof(colorAsHsv) === 'object' ? colorAsHsv : undefined,\n    hex: color || undefined,\n    onChange: handleColorSelection,\n    ref: satruationRef\n  }), React.createElement(EuiHue, {\n    id: id,\n    hue: _typeof(colorAsHsv) === 'object' ? colorAsHsv.h : undefined,\n    hex: color || undefined,\n    onChange: handleHueSelection\n  })), mode !== 'picker' && React.createElement(EuiFlexGroup, {\n    wrap: true,\n    responsive: false,\n    gutterSize: \"s\",\n    role: \"listbox\"\n  }, swatches.map(function (swatch, index) {\n    return React.createElement(EuiFlexItem, {\n      grow: false,\n      key: swatch\n    }, React.createElement(EuiI18n, {\n      token: \"euiColorPicker.swatchAriaLabel\",\n      values: {\n        swatch: swatch\n      },\n      default: \"Select {swatch} as the color\"\n    }, function (swatchAriaLabel) {\n      return React.createElement(EuiColorPickerSwatch, {\n        className: swatchClass,\n        color: swatch,\n        onClick: function onClick() {\n          return handleSwatchSelection(swatch);\n        },\n        \"aria-label\": swatchAriaLabel,\n        role: \"option\",\n        ref: index === 0 ? swatchRef : undefined\n      });\n    }));\n  })));\n  var buttonOrInput;\n\n  if (button) {\n    buttonOrInput = cloneElement(button, {\n      onClick: handleToggle,\n      id: id,\n      disabled: disabled,\n      'data-test-subj': testSubjAnchor\n    });\n  } else {\n    var showColor = color && isValidHex(color);\n    buttonOrInput = React.createElement(EuiFormControlLayout, {\n      icon: !readOnly ? {\n        type: 'arrowDown',\n        side: 'right'\n      } : undefined,\n      readOnly: readOnly,\n      fullWidth: fullWidth,\n      compressed: compressed,\n      onKeyDown: handleToggleOnKeyDown\n    }, React.createElement(\"div\", {\n      // Used to pass the chosen color through to form layout SVG using currentColor\n      style: {\n        color: showColor && color ? color : undefined\n      }\n    }, React.createElement(EuiI18n, {\n      tokens: ['euiColorPicker.openLabel', 'euiColorPicker.closeLabel'],\n      defaults: ['Press the escape key to close the popover', 'Press the down key to open a popover containing color options']\n    }, function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          openLabel = _ref3[0],\n          closeLabel = _ref3[1];\n\n      return React.createElement(EuiFieldText, {\n        className: \"euiColorPicker__input\",\n        onClick: handleInputActivity,\n        onKeyDown: handleInputActivity,\n        value: color ? color.toUpperCase() : '',\n        placeholder: !color ? 'Transparent' : undefined,\n        id: id,\n        onChange: handleColorInput,\n        maxLength: 7,\n        icon: showColor ? 'swatchInput' : 'stopSlash',\n        inputRef: setInputRef,\n        isInvalid: isInvalid,\n        compressed: compressed,\n        disabled: disabled,\n        readOnly: readOnly,\n        fullWidth: fullWidth,\n        autoComplete: \"off\",\n        \"data-test-subj\": testSubjAnchor,\n        \"aria-label\": isColorSelectorShown ? openLabel : closeLabel\n      });\n    })));\n  }\n\n  return display === 'inline' ? React.createElement(\"div\", {\n    className: classes\n  }, composite) : React.createElement(EuiPopover, {\n    ownFocus: popoverShouldOwnFocus,\n    button: buttonOrInput,\n    isOpen: isColorSelectorShown,\n    closePopover: handleFinalSelection,\n    zIndex: popoverZIndex,\n    panelClassName: panelClasses,\n    display: button ? 'inlineBlock' : 'block',\n    attachToAnchor: button ? false : true,\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\"\n  }, React.createElement(\"div\", {\n    className: classes,\n    \"data-test-subj\": testSubjPopover\n  }, React.createElement(EuiFocusTrap, {\n    clickOutsideDisables: true\n  }, React.createElement(EuiScreenReaderOnly, null, React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, React.createElement(EuiI18n, {\n    token: \"euiColorPicker.screenReaderAnnouncement\",\n    default: \"A popup with a range of selectable colors opened. Tab forward to cycle through colors choices or press escape to close this popup.\"\n  }))), composite)));\n};\nEuiColorPicker.propTypes = {\n  /**\n     *  Custom element to use instead of text input\n     */\n  button: PropTypes.element,\n\n  /**\n     *  Use the compressed style for EuiFieldText\n     */\n  compressed: PropTypes.bool,\n  display: PropTypes.oneOf([\"default\", \"inline\"]),\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  id: PropTypes.string,\n\n  /**\n     *  Custom validation flag\n     */\n  isInvalid: PropTypes.bool,\n\n  /**\n     * Choose between swatches with gradient picker (default), swatches only, or gradient picker only.\n     */\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\"]),\n\n  /**\n     *  Custom z-index for the popover\n     */\n  popoverZIndex: PropTypes.number,\n  readOnly: PropTypes.bool,\n\n  /**\n     *  Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors\n     */\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n     *  Hex string (3 or 6 character). Empty string will register as 'transparent'\n     */\n  color: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func\n};\nEuiColorPicker.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"EuiColorPicker\",\n  \"props\": {\n    \"compressed\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"Use the compressed style for EuiFieldText\"\n    },\n    \"display\": {\n      \"defaultValue\": {\n        \"value\": \"'default'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"default\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"inline\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"fullWidth\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"mode\": {\n      \"defaultValue\": {\n        \"value\": \"'default'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"default\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"swatch\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"picker\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"Choose between swatches with gradient picker (default), swatches only, or gradient picker only.\"\n    },\n    \"readOnly\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"swatches\": {\n      \"defaultValue\": {\n        \"value\": \"VISUALIZATION_COLORS\",\n        \"computed\": true\n      },\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"string\"\n        }\n      },\n      \"required\": false,\n      \"description\": \"Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors\"\n    },\n    \"button\": {\n      \"type\": {\n        \"name\": \"element\"\n      },\n      \"required\": false,\n      \"description\": \"Custom element to use instead of text input\"\n    },\n    \"disabled\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"id\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isInvalid\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"Custom validation flag\"\n    },\n    \"popoverZIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"Custom z-index for the popover\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"aria-label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"data-test-subj\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"color\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"enum\",\n          \"value\": [{\n            \"value\": \"null\",\n            \"computed\": false\n          }]\n        }]\n      },\n      \"required\": false,\n      \"description\": \"Hex string (3 or 6 character). Empty string will register as 'transparent'\"\n    },\n    \"onBlur\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onFocus\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};","map":{"version":3,"sources":["/Users/timothybowen/Documents/Development/social-one/node_modules/@elastic/eui/es/components/color_picker/color_picker.js"],"names":["_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","TypeError","_arr","_n","_d","_e","undefined","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","_typeof","constructor","prototype","PropTypes","React","cloneElement","useEffect","useRef","useState","classNames","EuiScreenReaderOnly","EuiColorPickerSwatch","EuiFocusTrap","EuiFlexGroup","EuiFlexItem","EuiFieldText","EuiFormControlLayout","EuiI18n","EuiPopover","VISUALIZATION_COLORS","keyCodes","hexToHsv","hsvToHex","isValidHex","EuiHue","EuiSaturation","isKeyboardEvent","event","EuiColorPicker","_ref","button","className","color","_ref$compressed","compressed","disabled","_ref$display","display","_ref$fullWidth","fullWidth","id","isInvalid","_ref$mode","mode","onBlur","onChange","onFocus","_ref$readOnly","readOnly","_ref$swatches","swatches","popoverZIndex","_useState","_useState2","isColorSelectorShown","setIsColorSelectorShown","_useState3","_useState4","colorAsHsv","setColorAsHsv","_useState5","_useState6","lastHex","setLastHex","_useState7","_useState8","inputRef","setInputRef","_useState9","_useState10","popoverShouldOwnFocus","setPopoverShouldOwnFocus","satruationRef","swatchRef","newColorAsHsv","classes","panelClasses","swatchClass","testSubjAnchor","testSubjPopover","handleOnChange","hex","closeColorSelector","shouldDelay","setTimeout","showColorSelector","shouldFocusInside","handleToggle","handleFinalSelection","focus","handleOnKeyDown","e","keyCode","ENTER","handleInputActivity","preventDefault","handleToggleOnKeyDown","DOWN","nextFocusEl","current","handleColorInput","handleColorSelection","h","hue","newHsv","handleHueSelection","s","v","satVal","handleSwatchSelection","composite","createElement","Fragment","onKeyDown","ref","wrap","responsive","gutterSize","role","map","swatch","index","grow","token","values","default","swatchAriaLabel","onClick","buttonOrInput","showColor","icon","type","side","style","tokens","defaults","_ref2","_ref3","openLabel","closeLabel","toUpperCase","placeholder","maxLength","autoComplete","ownFocus","isOpen","closePopover","zIndex","panelClassName","attachToAnchor","anchorPosition","panelPaddingSize","clickOutsideDisables","propTypes","element","bool","oneOf","string","number","arrayOf","isRequired","oneOfType","func","__docgenInfo"],"mappings":"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","sourcesContent":["function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport PropTypes from \"prop-types\";\nimport React, { cloneElement, useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiColorPickerSwatch } from './color_picker_swatch';\nimport { EuiFocusTrap } from '../focus_trap';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex'; // @ts-ignore\n\nimport { EuiFieldText } from '../form/field_text';\nimport { EuiFormControlLayout } from '../form/form_control_layout';\nimport { EuiI18n } from '../i18n';\nimport { EuiPopover } from '../popover';\nimport { VISUALIZATION_COLORS, keyCodes, hexToHsv, hsvToHex, isValidHex } from '../../services';\nimport { EuiHue } from './hue';\nimport { EuiSaturation } from './saturation';\n\nfunction isKeyboardEvent(event) {\n  return _typeof(event) === 'object' && 'keyCode' in event;\n}\n\nexport var EuiColorPicker = function EuiColorPicker(_ref) {\n  var button = _ref.button,\n      className = _ref.className,\n      color = _ref.color,\n      _ref$compressed = _ref.compressed,\n      compressed = _ref$compressed === void 0 ? false : _ref$compressed,\n      disabled = _ref.disabled,\n      _ref$display = _ref.display,\n      display = _ref$display === void 0 ? 'default' : _ref$display,\n      _ref$fullWidth = _ref.fullWidth,\n      fullWidth = _ref$fullWidth === void 0 ? false : _ref$fullWidth,\n      id = _ref.id,\n      isInvalid = _ref.isInvalid,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onFocus = _ref.onFocus,\n      _ref$readOnly = _ref.readOnly,\n      readOnly = _ref$readOnly === void 0 ? false : _ref$readOnly,\n      _ref$swatches = _ref.swatches,\n      swatches = _ref$swatches === void 0 ? VISUALIZATION_COLORS : _ref$swatches,\n      popoverZIndex = _ref.popoverZIndex;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isColorSelectorShown = _useState2[0],\n      setIsColorSelectorShown = _useState2[1];\n\n  var _useState3 = useState(color ? hexToHsv(color) : hexToHsv('')),\n      _useState4 = _slicedToArray(_useState3, 2),\n      colorAsHsv = _useState4[0],\n      setColorAsHsv = _useState4[1];\n\n  var _useState5 = useState(color),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lastHex = _useState6[0],\n      setLastHex = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      inputRef = _useState8[0],\n      setInputRef = _useState8[1]; // Ideally this is uses `useRef`, but `EuiFieldText` isn't ready for that\n\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      popoverShouldOwnFocus = _useState10[0],\n      setPopoverShouldOwnFocus = _useState10[1];\n\n  var satruationRef = useRef(null);\n  var swatchRef = useRef(null);\n  useEffect(function () {\n    // Mimics `componentDidMount` and `componentDidUpdate`\n    if (lastHex !== color) {\n      // Only react to outside changes\n      var newColorAsHsv = color ? hexToHsv(color) : hexToHsv('');\n      setColorAsHsv(newColorAsHsv);\n    }\n  }, [color, lastHex]);\n  var classes = classNames('euiColorPicker', className);\n  var panelClasses = classNames('euiColorPicker__popoverPanel', {\n    'euiColorPicker__popoverPanel--pickerOnly': mode === 'picker',\n    'euiColorPicker__popoverPanel--customButton': button\n  });\n  var swatchClass = 'euiColorPicker__swatchSelect';\n  var testSubjAnchor = 'colorPickerAnchor';\n  var testSubjPopover = 'colorPickerPopover';\n\n  var handleOnChange = function handleOnChange(hex) {\n    setLastHex(hex);\n    onChange(hex);\n  };\n\n  var closeColorSelector = function closeColorSelector() {\n    var shouldDelay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (onBlur) {\n      onBlur();\n    }\n\n    if (shouldDelay) {\n      setTimeout(function () {\n        return setIsColorSelectorShown(false);\n      });\n    } else {\n      setIsColorSelectorShown(false);\n    }\n  };\n\n  var showColorSelector = function showColorSelector() {\n    var shouldFocusInside = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (isColorSelectorShown || readOnly) return;\n\n    if (onFocus) {\n      onFocus();\n    }\n\n    setPopoverShouldOwnFocus(shouldFocusInside);\n    setIsColorSelectorShown(true);\n  };\n\n  var handleToggle = function handleToggle() {\n    if (isColorSelectorShown) {\n      closeColorSelector();\n    } else {\n      showColorSelector(true);\n    }\n  };\n\n  var handleFinalSelection = function handleFinalSelection() {\n    // When the trigger is an input, focus the input so you can adjust\n    if (inputRef) {\n      inputRef.focus();\n    }\n\n    closeColorSelector(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(e) {\n    if (e.keyCode === keyCodes.ENTER) {\n      if (isColorSelectorShown) {\n        handleFinalSelection();\n      } else {\n        showColorSelector();\n      }\n    }\n  };\n\n  var handleInputActivity = function handleInputActivity(e) {\n    if (isKeyboardEvent(e)) {\n      if (e.keyCode === keyCodes.ENTER) {\n        e.preventDefault();\n        handleToggle();\n      }\n    } else {\n      showColorSelector();\n    }\n  };\n\n  var handleToggleOnKeyDown = function handleToggleOnKeyDown(e) {\n    if (e.keyCode === keyCodes.DOWN) {\n      e.preventDefault();\n\n      if (isColorSelectorShown) {\n        var nextFocusEl = mode !== 'swatch' ? satruationRef : swatchRef;\n\n        if (nextFocusEl.current) {\n          nextFocusEl.current.focus();\n        }\n      } else {\n        showColorSelector(true);\n      }\n    }\n  };\n\n  var handleColorInput = function handleColorInput(e) {\n    handleOnChange(e.target.value);\n\n    if (isValidHex(e.target.value)) {\n      setColorAsHsv(hexToHsv(e.target.value));\n    }\n  };\n\n  var handleColorSelection = function handleColorSelection(color) {\n    var h = colorAsHsv.h;\n    var hue = h ? h : 1;\n\n    var newHsv = _objectSpread({}, color, {\n      h: hue\n    });\n\n    handleOnChange(hsvToHex(newHsv));\n    setColorAsHsv(newHsv);\n  };\n\n  var handleHueSelection = function handleHueSelection(hue) {\n    var s = colorAsHsv.s,\n        v = colorAsHsv.v;\n    var satVal = s && v ? {\n      s: s,\n      v: v\n    } : {\n      s: 1,\n      v: 1\n    };\n\n    var newHsv = _objectSpread({}, satVal, {\n      h: hue\n    });\n\n    handleOnChange(hsvToHex(newHsv));\n    setColorAsHsv(newHsv);\n  };\n\n  var handleSwatchSelection = function handleSwatchSelection(color) {\n    handleOnChange(color);\n    setColorAsHsv(hexToHsv(color));\n    handleFinalSelection();\n  };\n\n  var composite = React.createElement(React.Fragment, null, mode !== 'swatch' && React.createElement(\"div\", {\n    onKeyDown: handleOnKeyDown\n  }, React.createElement(EuiSaturation, {\n    id: id,\n    color: _typeof(colorAsHsv) === 'object' ? colorAsHsv : undefined,\n    hex: color || undefined,\n    onChange: handleColorSelection,\n    ref: satruationRef\n  }), React.createElement(EuiHue, {\n    id: id,\n    hue: _typeof(colorAsHsv) === 'object' ? colorAsHsv.h : undefined,\n    hex: color || undefined,\n    onChange: handleHueSelection\n  })), mode !== 'picker' && React.createElement(EuiFlexGroup, {\n    wrap: true,\n    responsive: false,\n    gutterSize: \"s\",\n    role: \"listbox\"\n  }, swatches.map(function (swatch, index) {\n    return React.createElement(EuiFlexItem, {\n      grow: false,\n      key: swatch\n    }, React.createElement(EuiI18n, {\n      token: \"euiColorPicker.swatchAriaLabel\",\n      values: {\n        swatch: swatch\n      },\n      default: \"Select {swatch} as the color\"\n    }, function (swatchAriaLabel) {\n      return React.createElement(EuiColorPickerSwatch, {\n        className: swatchClass,\n        color: swatch,\n        onClick: function onClick() {\n          return handleSwatchSelection(swatch);\n        },\n        \"aria-label\": swatchAriaLabel,\n        role: \"option\",\n        ref: index === 0 ? swatchRef : undefined\n      });\n    }));\n  })));\n  var buttonOrInput;\n\n  if (button) {\n    buttonOrInput = cloneElement(button, {\n      onClick: handleToggle,\n      id: id,\n      disabled: disabled,\n      'data-test-subj': testSubjAnchor\n    });\n  } else {\n    var showColor = color && isValidHex(color);\n    buttonOrInput = React.createElement(EuiFormControlLayout, {\n      icon: !readOnly ? {\n        type: 'arrowDown',\n        side: 'right'\n      } : undefined,\n      readOnly: readOnly,\n      fullWidth: fullWidth,\n      compressed: compressed,\n      onKeyDown: handleToggleOnKeyDown\n    }, React.createElement(\"div\", {\n      // Used to pass the chosen color through to form layout SVG using currentColor\n      style: {\n        color: showColor && color ? color : undefined\n      }\n    }, React.createElement(EuiI18n, {\n      tokens: ['euiColorPicker.openLabel', 'euiColorPicker.closeLabel'],\n      defaults: ['Press the escape key to close the popover', 'Press the down key to open a popover containing color options']\n    }, function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          openLabel = _ref3[0],\n          closeLabel = _ref3[1];\n\n      return React.createElement(EuiFieldText, {\n        className: \"euiColorPicker__input\",\n        onClick: handleInputActivity,\n        onKeyDown: handleInputActivity,\n        value: color ? color.toUpperCase() : '',\n        placeholder: !color ? 'Transparent' : undefined,\n        id: id,\n        onChange: handleColorInput,\n        maxLength: 7,\n        icon: showColor ? 'swatchInput' : 'stopSlash',\n        inputRef: setInputRef,\n        isInvalid: isInvalid,\n        compressed: compressed,\n        disabled: disabled,\n        readOnly: readOnly,\n        fullWidth: fullWidth,\n        autoComplete: \"off\",\n        \"data-test-subj\": testSubjAnchor,\n        \"aria-label\": isColorSelectorShown ? openLabel : closeLabel\n      });\n    })));\n  }\n\n  return display === 'inline' ? React.createElement(\"div\", {\n    className: classes\n  }, composite) : React.createElement(EuiPopover, {\n    ownFocus: popoverShouldOwnFocus,\n    button: buttonOrInput,\n    isOpen: isColorSelectorShown,\n    closePopover: handleFinalSelection,\n    zIndex: popoverZIndex,\n    panelClassName: panelClasses,\n    display: button ? 'inlineBlock' : 'block',\n    attachToAnchor: button ? false : true,\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\"\n  }, React.createElement(\"div\", {\n    className: classes,\n    \"data-test-subj\": testSubjPopover\n  }, React.createElement(EuiFocusTrap, {\n    clickOutsideDisables: true\n  }, React.createElement(EuiScreenReaderOnly, null, React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, React.createElement(EuiI18n, {\n    token: \"euiColorPicker.screenReaderAnnouncement\",\n    default: \"A popup with a range of selectable colors opened. Tab forward to cycle through colors choices or press escape to close this popup.\"\n  }))), composite)));\n};\nEuiColorPicker.propTypes = {\n  /**\n     *  Custom element to use instead of text input\n     */\n  button: PropTypes.element,\n\n  /**\n     *  Use the compressed style for EuiFieldText\n     */\n  compressed: PropTypes.bool,\n  display: PropTypes.oneOf([\"default\", \"inline\"]),\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  id: PropTypes.string,\n\n  /**\n     *  Custom validation flag\n     */\n  isInvalid: PropTypes.bool,\n\n  /**\n     * Choose between swatches with gradient picker (default), swatches only, or gradient picker only.\n     */\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\"]),\n\n  /**\n     *  Custom z-index for the popover\n     */\n  popoverZIndex: PropTypes.number,\n  readOnly: PropTypes.bool,\n\n  /**\n     *  Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors\n     */\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n     *  Hex string (3 or 6 character). Empty string will register as 'transparent'\n     */\n  color: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func\n};\nEuiColorPicker.__docgenInfo = {\n  \"description\": \"\",\n  \"methods\": [],\n  \"displayName\": \"EuiColorPicker\",\n  \"props\": {\n    \"compressed\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"Use the compressed style for EuiFieldText\"\n    },\n    \"display\": {\n      \"defaultValue\": {\n        \"value\": \"'default'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"default\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"inline\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"fullWidth\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"mode\": {\n      \"defaultValue\": {\n        \"value\": \"'default'\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"enum\",\n        \"value\": [{\n          \"value\": \"\\\"default\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"swatch\\\"\",\n          \"computed\": false\n        }, {\n          \"value\": \"\\\"picker\\\"\",\n          \"computed\": false\n        }]\n      },\n      \"required\": false,\n      \"description\": \"Choose between swatches with gradient picker (default), swatches only, or gradient picker only.\"\n    },\n    \"readOnly\": {\n      \"defaultValue\": {\n        \"value\": \"false\",\n        \"computed\": false\n      },\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"swatches\": {\n      \"defaultValue\": {\n        \"value\": \"VISUALIZATION_COLORS\",\n        \"computed\": true\n      },\n      \"type\": {\n        \"name\": \"arrayOf\",\n        \"value\": {\n          \"name\": \"string\"\n        }\n      },\n      \"required\": false,\n      \"description\": \"Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors\"\n    },\n    \"button\": {\n      \"type\": {\n        \"name\": \"element\"\n      },\n      \"required\": false,\n      \"description\": \"Custom element to use instead of text input\"\n    },\n    \"disabled\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"id\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"isInvalid\": {\n      \"type\": {\n        \"name\": \"bool\"\n      },\n      \"required\": false,\n      \"description\": \"Custom validation flag\"\n    },\n    \"popoverZIndex\": {\n      \"type\": {\n        \"name\": \"number\"\n      },\n      \"required\": false,\n      \"description\": \"Custom z-index for the popover\"\n    },\n    \"className\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"aria-label\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"data-test-subj\": {\n      \"type\": {\n        \"name\": \"string\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"color\": {\n      \"type\": {\n        \"name\": \"union\",\n        \"value\": [{\n          \"name\": \"string\"\n        }, {\n          \"name\": \"enum\",\n          \"value\": [{\n            \"value\": \"null\",\n            \"computed\": false\n          }]\n        }]\n      },\n      \"required\": false,\n      \"description\": \"Hex string (3 or 6 character). Empty string will register as 'transparent'\"\n    },\n    \"onBlur\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    },\n    \"onChange\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": true,\n      \"description\": \"\"\n    },\n    \"onFocus\": {\n      \"type\": {\n        \"name\": \"func\"\n      },\n      \"required\": false,\n      \"description\": \"\"\n    }\n  }\n};"]},"metadata":{},"sourceType":"module"}